/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (() => {

eval("window.addEventListener('DOMContentLoaded', (e) => {\r\n    App.init()\r\n})\r\n\r\nvar App = (function () {\r\n    let isInitialized = false\r\n    let config = null\r\n    let root = null\r\n    let main = null\r\n    let activeMobileWindow = null;\r\n\r\n    let init = function () {\r\n        if (isInitialized) {\r\n            return\r\n        }\r\n\r\n        buildTree()\r\n\r\n        console.log('initialized')\r\n        isInitialized = true\r\n    };\r\n\r\n\r\n    function buildTree() {\r\n        main = document.getElementById('main')\r\n\r\n        const children = createChildrenWindow()\r\n        main.appendChild(children)\r\n\r\n        root = createNode()\r\n        children.appendChild(root)\r\n    }\r\n\r\n    function createNode() {\r\n        const node = document.createElement('div')\r\n        node.className = 'node'\r\n\r\n        const vBarToParent = createVerticalBar()\r\n        vBarToParent.classList.add('to-parent')\r\n        node.appendChild(vBarToParent)\r\n\r\n        node.appendChild(createMessageWindow())\r\n\r\n        node.appendChild(createMobileWindow())\r\n\r\n        const vBarToChildren = createVerticalBar()\r\n        vBarToChildren.classList.add('to-children')\r\n        node.appendChild(vBarToChildren)\r\n\r\n        node.appendChild(createHorizontalBar())\r\n\r\n        node.appendChild(createChildrenWindow())\r\n\r\n        return node\r\n    }\r\n\r\n    function createMobileWindow() {\r\n        const mobileWindow = document.createElement('div')\r\n        mobileWindow.className = 'mobile-window'\r\n\r\n        const mobileView = document.createElement('div')\r\n        mobileView.className = 'mobile-view'\r\n        mobileWindow.appendChild(mobileView)\r\n\r\n        const mobileButtons = document.createElement('div')\r\n        mobileButtons.className = 'mobile-buttons'\r\n        mobileWindow.appendChild(mobileButtons)\r\n\r\n        const createNodeButton = document.createElement('button')\r\n        createNodeButton.appendChild(document.createTextNode('A'))\r\n        createNodeButton.className = 'mobile-button add-action'\r\n        mobileButtons.appendChild(createNodeButton)\r\n\r\n        createNodeButton.addEventListener('click', (e) => {\r\n            const button = e.target\r\n            const thisNode = button.closest('.node')\r\n            createChildNodeTo(thisNode)\r\n        })\r\n\r\n        mobileWindow.addEventListener('click', (e) => {\r\n            if (activeMobileWindow) {\r\n                activeMobileWindow.classList.remove('active')\r\n            }\r\n            mobileWindow.classList.add('active')\r\n            activeMobileWindow = mobileWindow\r\n        })\r\n\r\n        return mobileWindow\r\n    }\r\n\r\n    function createChildNodeTo(thisNode) {\r\n        const childNode = createNode()\r\n        childNode.querySelector('.vertical-bar.to-parent')\r\n            .classList.add('active')\r\n\r\n        const children = thisNode\r\n            .querySelector('.children')\r\n        children.appendChild(childNode)\r\n\r\n        thisNode.querySelector('.vertical-bar.to-children')\r\n            .classList.add('active')\r\n\r\n        updateHorizontalBarWidths(thisNode)\r\n    }\r\n\r\n    function createMessageWindow() {\r\n        const messageWindow = document.createElement('div')\r\n        messageWindow.className = 'message-window'\r\n        messageWindow.contentEditable = true\r\n\r\n        return messageWindow\r\n    }\r\n\r\n    function createVerticalBar() {\r\n        const v = document.createElement('div')\r\n        v.className = 'vertical-bar'\r\n\r\n        return v\r\n    }\r\n\r\n    function createHorizontalBar() {\r\n        const h = document.createElement('div')\r\n        h.className = 'horizontal-bar'\r\n\r\n        return h\r\n    }\r\n\r\n    function createChildrenWindow() {\r\n        const children = document.createElement('div')\r\n        children.className = 'children'\r\n\r\n        return children\r\n    }\r\n\r\n    function updateHorizontalBarWidths(node) {\r\n        const horizontalBar = node.querySelector('.horizontal-bar')\r\n        const children = node.querySelector('.children')\r\n        const numChildren = children.children.length\r\n        let width = children.offsetWidth\r\n        const firstChildWidth = children.children[0].offsetWidth\r\n        const lastChildWidth = children.children[numChildren - 1].offsetWidth\r\n        const verticalBarWidth = node.querySelector('.vertical-bar').offsetWidth\r\n        width -= ((firstChildWidth / 2) + (lastChildWidth / 2))\r\n        width += verticalBarWidth\r\n\r\n        horizontalBar.style.width = width + 'px'\r\n        horizontalBar.style.left = ((firstChildWidth - verticalBarWidth) / 2) + 'px'\r\n        horizontalBar.classList.add('active')\r\n\r\n        const parentNode = node.parentNode.closest('.node')\r\n        if (parentNode) {\r\n            updateHorizontalBarWidths(parentNode)\r\n        }\r\n    }\r\n\r\n    return { init }\r\n})()\n\n//# sourceURL=webpack://tree-graph/./src/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/index.js"]();
/******/ 	
/******/ })()
;