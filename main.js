(()=>{window.addEventListener("DOMContentLoaded",(t=>{e.init()}));var e=function(){let e=!1,t=null,n=null,c=null;function d(){const e=document.createElement("div");e.className="node";const t=i();t.classList.add("to-parent"),e.appendChild(t),e.appendChild(function(){const e=document.createElement("div");return e.className="message-window",e.contentEditable=!0,e}()),e.appendChild(function(){const e=document.createElement("div");e.className="mobile-window";const t=document.createElement("div");t.className="mobile-view",e.appendChild(t);const n=document.createElement("div");n.className="mobile-buttons",e.appendChild(n);const i=document.createElement("button");return i.appendChild(document.createTextNode("A")),i.className="mobile-button add-action",n.appendChild(i),i.addEventListener("click",(e=>{!function(e){const t=d();t.querySelector(".vertical-bar.to-parent").classList.add("active"),e.querySelector(".children").appendChild(t),e.querySelector(".vertical-bar.to-children").classList.add("active"),l(e)}(e.target.closest(".node"))})),e.addEventListener("click",(t=>{c&&c.classList.remove("active"),e.classList.add("active"),c=e})),e}());const n=i();return n.classList.add("to-children"),e.appendChild(n),e.appendChild(function(){const e=document.createElement("div");return e.className="horizontal-bar",e}()),e.appendChild(a()),e}function i(){const e=document.createElement("div");return e.className="vertical-bar",e}function a(){const e=document.createElement("div");return e.className="children",e}function l(e){const t=e.querySelector(".horizontal-bar"),n=e.querySelector(".children"),c=n.children.length;let d=n.offsetWidth;const i=n.children[0].offsetWidth,a=n.children[c-1].offsetWidth,o=e.querySelector(".vertical-bar").offsetWidth;d-=i/2+a/2,d+=o,t.style.width=d+"px",t.style.left=(i-o)/2+"px",t.classList.add("active");const s=e.parentNode.closest(".node");s&&l(s)}return{init:function(){e||(function(){n=document.getElementById("main");const e=a();n.appendChild(e),t=d(),e.appendChild(t)}(),console.log("initialized"),e=!0)}}}()})();